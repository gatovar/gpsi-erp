<?xml version="1.0" encoding="utf-8"?>

<odoo>
    <data>

        <report
            id="sale_quotation_report"
            model="sale.order"
            string="Propuesta"
            report_type="qweb-pdf"
            name="sale.quotation_report"
            file="sale.quotation_report"
            paperformat="paperformat_custom"
        />

        <template id="sale.quotation_report">
            <t t-call="report.html_container">
            <t t-foreach="docs" t-as="o">
                <div class="page">
                    <div class="container" style="font-size: 13px;">

                    <div class="row">
                        <div class="row" style="float: left;">
                            <div class="col-md-12"><img src="http://gms.globalstd.com/rutas_online/logo_actual.jpg" width="300px" class="img-responsive" alt="Imagen responsive" /></div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12" style="font-size: 18px; margin-bottom: 50px; text-align: center;"><label for="titulo">PROPUESTA <t t-esc="o.gs_standard_id.name" /></label> <label for="rev" style="float: right;">REV. 8</label></div>
                    </div>

                    <div class="row">
                        <label style="text-align: left;">Información de la compañía</label>
                    </div>
                    
                    <div class="row">
                    <div style="width: 100%; height: 5px; background-color: #a31d21;"></div>
                    </div>

                    <div class="row">
                        <table class="table table-condensed">
                            <tr>
                                <td style="width: 20%; border: none;"><strong>Organización:</strong></td>
                                <td style="width: 80%; border: none;"><t t-esc="o.partner_id.name"/></td>
                            </tr>
                            <tr>
                                <td style="width: 20%; border: none;"><strong>Contacto:</strong></td>
                                <td style="width: 80%; border: none;"><t t-esc="o.gs_responsible_id.name"/></td>
                            </tr>
                            <tr>
                                <td style="width: 20%; border: none;"><strong>Cargo:</strong></td>
                                <td style="width: 80%; border: none;"><t t-esc="o.gs_responsible_id.function"/></td>
                            </tr>
                            <tr>
                                <td style="width: 20%; border: none;"><strong>Teléfono:</strong></td>
                                <td style="width: 80%; border: none;"><t t-esc="o.gs_responsible_id.phone"/></td>
                            </tr>
                            <tr>
                                <td style="width: 20%; border: none;"><strong>Correo electrónico:</strong></td>
                                <td style="width: 80%; border: none;"><t t-esc="o.gs_responsible_id.email"/></td>
                            </tr>
                        </table>
                    </div>

                    <div class="row">
                    <div style="width: 100%; height: 5px; background-color: #a31d21;"></div>
                    </div>

                    <div class="row">
                        <table class="table table-condensed">
                            <tr>
                                <td class="col-md-6" style="border: none;" colspan="2"><strong>Rango de empleados:</strong></td>
                                <td class="col-md-2" style="border: none;"><strong>Aplica diseño?:</strong></td>
                                <td class="col-md-2" style="border: none;">
                                    <i class="fa fa-check-square-o" aria-hidden="true"></i><strong>No</strong>
                                </td>
                                <td class="col-md-2" style="border: none;">
                                    <i class="fa fa-square-o" aria-hidden="true"></i><strong>Si</strong>
                                </td>
                            </tr>
                            <tr>
                                <td class="col-md-3" style="border: none;">
                                    <i class="fa fa-check-square-o" aria-hidden="true"></i>Certificación inicial
                                </td>
                                <td class="col-md-3" style="border: none;">
                                    <i class="fa fa-square-o" aria-hidden="true"></i>Re-certificación
                                </td>
                                <td class="col-md-2" style="border: none;">
                                    <i class="fa fa-square-o" aria-hidden="true"></i>Transferencia
                                </td>
                                <td class="col-md-2" style="border: none;">
                                    <i class="fa fa-square-o" aria-hidden="true"></i>Ajuste
                                </td>
                                <td class="col-md-2" style="border: none;">
                                    <i class="fa fa-square-o" aria-hidden="true"></i>Especial
                                </td>
                            </tr>
                        </table>
                    </div>

                    <div class="row">
                    <div style="width: 100%; height: 5px; background-color: #a31d21;"></div>
                    </div>

                    <div class="row">
                        <table class="table table-striped table-condensed">
                            <thead>
                                <tr>
                                <th style="width: 70%; border: none;">Descripción de la propuesta:</th>
                                <th class="text-center" style="width: 10%; border: none;">Días Auditor</th>
                                <th class="text-center" style="width: 10%; border: none;">Honorarios</th>
                                <th class="text-center" style="width: 10%; border: none;">Total</th>
                                </tr>
                                <tr>
                                <th style="width: 90%; border-top: none;" colspan="3">Etapas</th>
                                <th class="text-center" style="width: 10%; border-top: none;">USD</th>
                                </tr>
                            </thead>
                            <tbody>
                                
                                <t t-set="subtotal1" t-value="0" />
                                
                                <t t-foreach="o.order_line" t-as="order">
                                    <t t-if="order.product_id.product_tmpl_id.categ_id.name == 'Annual 1'">
                                        <tr>
                                            <td style="width: 80%;"><t t-esc="order.name"/></td>
                                            <td class="text-center" style="width: 10%;"><t t-esc="int(order.product_uom_qty)"/></td>
                                            <td class="text-right" style="width: 10%;"><t t-esc="order.price_total"/></td>
                                        </tr>
                                        <t t-set="subtotal1" t-value="subtotal1 + order.price_total" />
                                    </t>
                                </t>
                                <tr style="font-weight: bold;">
                                <td class="text-right" colspan="3" style="width: 90%; font-style: italic;">Honorarios iniciales de certificación</td>
                                <td class="text-center" style="width: 10%;"><label style="background-color: #C0C0C0; border-bottom: 5px solid #a31d21;"><t t-esc="subtotal1"/></label> +IVA</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="row">
                    <div style="width: 100%; height: 1px; border:none; border-top: 3px dashed #000;"></div>
                    </div>

                    <div class="row">
                        <table class="table table-striped table-condensed">
                            <thead>
                                <tr>
                                <th style="width: 100%; border-top: none;" colspan="4">Seguimientos</th>
                                </tr>
                            </thead>
                            <tbody>
                                <t t-set="subtotal2" t-value="0" />
                                
                                <t t-foreach="o.order_line" t-as="order">
                                    <t t-if="order.product_id.product_tmpl_id.categ_id.name == 'Annual 2' or order.product_id.product_tmpl_id.categ_id.name == 'Annual 3'">
                                        <tr>
                                            <td style="width: 80%;"><t t-esc="order.name"/></td>
                                            <td class="text-center" style="width: 10%;"><t t-esc="int(order.product_uom_qty)"/></td>
                                            <td class="text-right" style="width: 10%;"><t t-esc="order.price_total"/></td>
                                        </tr>
                                        <t t-set="subtotal2" t-value="subtotal2 + order.price_total" />
                                    </t>
                                </t>

                                <tr>
                                <td class="text-right" colspan="3" style="width: 90%; font-style: italic;"><strong>Honorarios de seguimientos</strong></td>
                                <td class="text-center" style="width: 10%;"><label style="background-color: #C0C0C0; border-bottom: 5px solid #a31d21;"><t t-esc="subtotal2"/></label> + IVA</td>
                                </tr>
                                
                                <tr>
                                <td class="text-right" style="width: 90%;" colspan="3"><strong>Total de Honorarios por ciclo de certificación</strong></td>
                                <td class="text-center" style="width: 10%;"><label style="background-color: #C0C0C0; border-bottom: 7px solid #a31d21;"><t t-esc="subtotal1 + subtotal2"/></label> + IVA</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="row">
                    <div style="width: 100%; height: 1px; border:none; border-top: 3px dashed #000;"></div>
                    </div>

                    <div class="row" style="page-break-before: always;">
                        <table class="table table-bordered table-condensed" style="font-weight: bold; font-size: 12px;">
                            <tbody>
                                <tr>
                                <td class="text-center" style="width: 20%;">Esquema de Certificación</td>
                                <td class="text-center" style="width: 20%; border: none;"><i class="fa fa-check-square-o" aria-hidden="true"></i>Un sitio</td>
                                <td class="text-center" style="width: 20%; border: none;"><i class="fa fa-square-o" aria-hidden="true"></i>Multi-sitio</td>
                                <td class="text-center" style="width: 20%; border: none;"><i class="fa fa-square-o" aria-hidden="true"></i>Multi-localidad</td>
                                <td class="text-center" style="width: 20%; border: none;"><i class="fa fa-square-o" aria-hidden="true"></i>Mixto</td>
                                </tr>
                            </tbody>
                        </table>
                        <table class="table table-bordered table-condensed" style="font-weight: bold; font-size: 10px;">
                            <tbody>
                                <tr>
                                <td class="text-center" style="width: 30%;">Sitio</td>
                                <td class="text-center" style="width: 7%;">PRE</td>
                                <td class="text-center" style="width: 7%;">TO</td>
                                <td class="text-center" style="width: 7%;">EI</td>
                                <td class="text-center" style="width: 7%;">EII</td>
                                <td class="text-center" style="width: 7%;">S1</td>
                                <td class="text-center" style="width: 7%;">S2</td>
                                <td class="text-center" style="width: 7%;">S3</td>
                                <td class="text-center" style="width: 7%;">S4</td>
                                <td class="text-center" style="width: 7%;">S5</td>
                                <td class="text-center" style="width: 7%;">TOTAL</td>
                                </tr>
                                <tr>
                                <td style="width: 30%;">PRINCIPAL</td>
                                <td class="text-center" style="width: 7%;">0</td>
                                <td class="text-center" style="width: 7%;">0</td>
                                <td class="text-center" style="width: 7%;">0</td>
                                <td class="text-center" style="width: 7%;">0</td>
                                <td class="text-center" style="width: 7%;">0</td>
                                <td class="text-center" style="width: 7%;">0</td>
                                <td class="text-center" style="width: 7%;">0</td>
                                <td class="text-center" style="width: 7%;">0</td>
                                <td class="text-center" style="width: 7%;">0</td>
                                <td class="text-center" style="width: 7%;">0</td>
                                </tr>
                                <tr>
                                <td style="width: 30%;"></td>
                                <td class="text-center" style="width: 7%;"></td>
                                <td class="text-center" style="width: 7%;"></td>
                                <td class="text-center" style="width: 7%;"></td>
                                <td class="text-center" style="width: 7%;"></td>
                                <td class="text-center" style="width: 7%;"></td>
                                <td class="text-center" style="width: 7%;"></td>
                                <td class="text-center" style="width: 7%;"></td>
                                <td class="text-center" style="width: 7%;"></td>
                                <td class="text-center" style="width: 7%;"></td>
                                <td class="text-center" style="width: 7%;"></td>
                                </tr>
                                <tr>
                                <td class="text-right" style="width: 51%;" colspan="4">Total días auditor </td>
                                <td class="text-center" style="width: 7%;">0</td>
                                <td class="text-center" style="width: 7%;">0</td>
                                <td class="text-center" style="width: 7%;">0</td>
                                <td class="text-center" style="width: 7%;">0</td>
                                <td class="text-center" style="width: 7%;">0</td>
                                <td class="text-center" style="width: 7%;">0</td>
                                <td class="text-center" style="width: 7%;">0</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <table class="table table-bordered" style="font-size: 10px;">
                                <tbody>
                                <tr>
                                    <td class="text-center" style="width: 10%; font-weight: bold;">Alcance</td>
                                    <td style="width: 90%; text-align: justify;"><t t-esc="o.gs_scope"/></td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <table class="table" style="font-size: 10px;">
                                <tbody>
                                <tr>
                                    <td style="width: 100%; border: 1px dotted #000; text-align: justify;"><strong>Comentarios Adicionales: </strong></td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <table class="table">
                                <tbody>
                                <tr style="font-weight: bold; font-size: 12px;">
                                    <td style="width: 30%; border: none;">GlobalSTD <br/> <a href="">www.globalstd.com</a></td>
                                    <td class="text-center" style="width: 40%; border: none;">Elaborado por: <t t-esc="o.user_id.name"/></td>
                                    <td class="text-right" style="width: 30%; border: none;">Business Development <br/> 01 800 277 62 42 <br/> +52 (33) 3630 4546 <br/> +52 (55) 5511 2920</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <table class="table">
                                <tbody>
                                <tr>
                                    <td class="col-md-4" style="border: none;"></td>
                                    <td class="col-md-4" style="border: none; border-bottom: 2px solid #000;"></td>
                                    <td class="col-md-4" style="border: none;"></td>
                                </tr>
                                <tr>
                                    <td class="col-md-12 text-center" colspan="3" style="border: none; font-weight: bold;">Aprobación del cliente:</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="row">
                        <table class="table" style="font-size: 10px;">
                            <tbody>
                                <tr>
                                <td class="text-center" style="width: 100%; border: 1px solid #000;">Acepto términos y condiciones del contrato de Global Standards. (Para conocer los términos y condiciones por favor contacte a su ejecutivo de ventas)</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <table class="table">
                                <tbody>
                                <tr>
                                    <td class="text-right" style="width: 20%; border: none; font-weight: bold;">Fecha de aceptación por parte del cliente:</td>
                                    <td style="width: 20%; border: none; border-bottom: 1px solid #000;"></td>
                                    <td style="width: 60%; border: none;"></td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="row">
                        <div class="text-center" style="width: 100%;">
                            <p>Nota 3 : Los pasos para la certificación son mencionados en la página <a href="">www.globalstd.com/certificacion</a></p>
                        </div>
                    </div>
                    
                    </div>
                </div>
            </t>
            </t>
        </template>

    </data>
</odoo>